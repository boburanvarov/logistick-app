"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4963],{2726:(ne,k,c)=>{c.d(k,{Uw:()=>B,fo:()=>G});var u=c(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var U=function(o){return o.Unimplemented="UNIMPLEMENTED",o.Unavailable="UNAVAILABLE",o}(U||{});class R extends Error{constructor(e,n,s){super(e),this.message=e,this.code=n,this.data=s}}const T=o=>{var e,n,s,l,i;const m=o.CapacitorCustomPlatform||null,a=o.Capacitor||{},C=a.Plugins=a.Plugins||{},h=o.CapacitorPlatforms,D=(null===(e=null==h?void 0:h.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==m?m.name:(o=>{var e,n;return null!=o&&o.androidBridge?"android":null!==(n=null===(e=null==o?void 0:o.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==n&&n.bridge?"ios":"web"})(o)),ue=(null===(n=null==h?void 0:h.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||(()=>"web"!==D()),ge=(null===(s=null==h?void 0:h.currentPlatform)||void 0===s?void 0:s.isPluginAvailable)||(p=>{const P=q.get(p);return!!(null!=P&&P.platforms.has(D())||ae(p))}),ae=(null===(l=null==h?void 0:h.currentPlatform)||void 0===l?void 0:l.getPluginHeader)||(p=>{var P;return null===(P=a.PluginHeaders)||void 0===P?void 0:P.find($=>$.name===p)}),q=new Map,ve=(null===(i=null==h?void 0:h.currentPlatform)||void 0===i?void 0:i.registerPlugin)||((p,P={})=>{const $=q.get(p);if($)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),$.proxy;const _=D(),j=ae(p);let x;const Pe=function(){var b=(0,u.Z)(function*(){return!x&&_ in P?x=x="function"==typeof P[_]?yield P[_]():P[_]:null!==m&&!x&&"web"in P&&(x=x="function"==typeof P.web?yield P.web():P.web),x});return function(){return b.apply(this,arguments)}}(),ee=b=>{let y;const E=(...Z)=>{const S=Pe().then(L=>{const I=((b,y)=>{var E,Z;if(!j){if(b)return null===(Z=b[y])||void 0===Z?void 0:Z.bind(b);throw new R(`"${p}" plugin is not implemented on ${_}`,U.Unimplemented)}{const S=null==j?void 0:j.methods.find(L=>y===L.name);if(S)return"promise"===S.rtype?L=>a.nativePromise(p,y.toString(),L):(L,I)=>a.nativeCallback(p,y.toString(),L,I);if(b)return null===(E=b[y])||void 0===E?void 0:E.bind(b)}})(L,b);if(I){const N=I(...Z);return y=null==N?void 0:N.remove,N}throw new R(`"${p}.${b}()" is not implemented on ${_}`,U.Unimplemented)});return"addListener"===b&&(S.remove=(0,u.Z)(function*(){return y()})),S};return E.toString=()=>`${b.toString()}() { [capacitor code] }`,Object.defineProperty(E,"name",{value:b,writable:!1,configurable:!1}),E},le=ee("addListener"),ce=ee("removeListener"),be=(b,y)=>{const E=le({eventName:b},y),Z=function(){var L=(0,u.Z)(function*(){const I=yield E;ce({eventName:b,callbackId:I},y)});return function(){return L.apply(this,arguments)}}(),S=new Promise(L=>E.then(()=>L({remove:Z})));return S.remove=(0,u.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Z()}),S},te=new Proxy({},{get(b,y){switch(y){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return j?be:le;case"removeListener":return ce;default:return ee(y)}}});return C[p]=te,q.set(p,{name:p,proxy:te,platforms:new Set([...Object.keys(P),...j?[_]:[]])}),te});return a.convertFileSrc||(a.convertFileSrc=p=>p),a.getPlatform=D,a.handleError=p=>o.console.error(p),a.isNativePlatform=ue,a.isPluginAvailable=ge,a.pluginMethodNoop=(p,P,$)=>Promise.reject(`${$} does not have an implementation of "${P}".`),a.registerPlugin=ve,a.Exception=R,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},f=(o=>o.Capacitor=T(o))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),G=f.registerPlugin;class B{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){var s=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i);const m=function(){var C=(0,u.Z)(function*(){return s.removeListener(e,n)});return function(){return C.apply(this,arguments)}}(),a=Promise.resolve({remove:m});return Object.defineProperty(a,"remove",{value:(C=(0,u.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield m()}),function(){return C.apply(this,arguments)})}),a;var C}removeAllListeners(){var e=this;return(0,u.Z)(function*(){e.listeners={};for(const n in e.windowListeners)e.removeWindowListener(e.windowListeners[n]);e.windowListeners={}})()}notifyListeners(e,n){const s=this.listeners[e];s&&s.forEach(l=>l(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:s=>{this.notifyListeners(n,s)}}}unimplemented(e="not implemented"){return new f.Exception(e,U.Unimplemented)}unavailable(e="not available"){return new f.Exception(e,U.Unavailable)}removeListener(e,n){var s=this;return(0,u.Z)(function*(){const l=s.listeners[e];if(!l)return;const i=l.indexOf(n);s.listeners[e].splice(i,1),s.listeners[e].length||s.removeWindowListener(s.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const K=o=>encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Y=o=>o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Q extends B{getCookies(){return(0,u.Z)(function*(){const e=document.cookie,n={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[l,i]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");l=Y(l).trim(),i=Y(i).trim(),n[l]=i}),n})()}setCookie(e){return(0,u.Z)(function*(){try{const n=K(e.key),s=K(e.value),l=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),m=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${s||""}${l}; path=${i}; ${m};`}catch(n){return Promise.reject(n)}})()}deleteCookie(e){return(0,u.Z)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}})()}clearCookies(){return(0,u.Z)(function*(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,u.Z)(function*(){try{yield e.clearCookies()}catch(n){return Promise.reject(n)}})()}}G("CapacitorCookies",{web:()=>new Q});const V=function(){var o=(0,u.Z)(function*(e){return new Promise((n,s)=>{const l=new FileReader;l.onload=()=>{const i=l.result;n(i.indexOf(",")>=0?i.split(",")[1]:i)},l.onerror=i=>s(i),l.readAsDataURL(e)})});return function(n){return o.apply(this,arguments)}}();class d extends B{request(e){return(0,u.Z)(function*(){const n=((o,e={})=>{const n=Object.assign({method:o.method||"GET",headers:o.headers},e),l=((o={})=>{const e=Object.keys(o);return Object.keys(o).map(l=>l.toLocaleLowerCase()).reduce((l,i,m)=>(l[i]=o[e[m]],l),{})})(o.headers)["content-type"]||"";if("string"==typeof o.data)n.body=o.data;else if(l.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[m,a]of Object.entries(o.data||{}))i.set(m,a);n.body=i.toString()}else if(l.includes("multipart/form-data")){const i=new FormData;if(o.data instanceof FormData)o.data.forEach((a,C)=>{i.append(C,a)});else for(const a of Object.keys(o.data))i.append(a,o.data[a]);n.body=i;const m=new Headers(n.headers);m.delete("content-type"),n.headers=m}else(l.includes("application/json")||"object"==typeof o.data)&&(n.body=JSON.stringify(o.data));return n})(e,e.webFetchExtra),s=((o,e=!0)=>o?Object.entries(o).reduce((s,l)=>{const[i,m]=l;let a,C;return Array.isArray(m)?(C="",m.forEach(h=>{a=e?encodeURIComponent(h):h,C+=`${i}=${a}&`}),C.slice(0,-1)):(a=e?encodeURIComponent(m):m,C=`${i}=${a}`),`${s}&${C}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),l=s?`${e.url}?${s}`:e.url,i=yield fetch(l,n),m=i.headers.get("content-type")||"";let C,h,{responseType:a="text"}=i.ok?e:{};switch(m.includes("application/json")&&(a="json"),a){case"arraybuffer":case"blob":h=yield i.blob(),C=yield V(h);break;case"json":C=yield i.json();break;default:C=yield i.text()}const J={};return i.headers.forEach((D,X)=>{J[X]=D}),{data:C,headers:J,status:i.status,url:i.url}})()}get(e){var n=this;return(0,u.Z)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var n=this;return(0,u.Z)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var n=this;return(0,u.Z)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var n=this;return(0,u.Z)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var n=this;return(0,u.Z)(function*(){return n.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}G("CapacitorHttp",{web:()=>new d})},4963:(ne,k,c)=>{c.r(k),c.d(k,{MainModule:()=>V});var u=c(6814),A=c(1379),H=c(5861),O=c(2726);const R=(0,O.fo)("StatusBar"),z=(0,O.fo)("SplashScreen",{web:()=>c.e(4485).then(c.bind(c,4485)).then(r=>new r.SplashScreenWeb)});var T=c(7167),t=c(9468),f=c(9843),G=c(2145),oe=c(8176),re=c(5946);function B(r,w){if(1&r&&(t.TgZ(0,"ion-menu-toggle",5)(1,"ion-item",6),t._UZ(2,"ion-icon",7),t.TgZ(3,"ion-label"),t._uU(4),t.qZA()()()),2&r){const v=w.$implicit;t.xp6(1),t.Q6J("routerLink",v.url),t.xp6(1),t.Q6J("name",v.icon+"-outline"),t.xp6(2),t.hij(" ",v.title," ")}}function ie(r,w){if(1&r){const v=t.EpF();t.TgZ(0,"ion-list",1)(1,"ion-list-header"),t._uU(2," Account "),t.qZA(),t.TgZ(3,"ion-menu-toggle",5)(4,"ion-item",8),t._UZ(5,"ion-icon",9),t.TgZ(6,"ion-label"),t._uU(7," Account "),t.qZA()()(),t.TgZ(8,"ion-menu-toggle",5)(9,"ion-item",10),t.NdJ("click",function(){t.CHM(v);const M=t.oxw();return t.KtG(M.logout())}),t._UZ(10,"ion-icon",11),t.TgZ(11,"ion-label"),t._uU(12," Logout "),t.qZA()()()()}}function K(r,w){if(1&r){const v=t.EpF();t.TgZ(0,"ion-list",1)(1,"ion-list-header"),t._uU(2," Account "),t.qZA(),t.TgZ(3,"ion-menu-toggle",5)(4,"ion-item",12),t._UZ(5,"ion-icon",13),t.TgZ(6,"ion-label"),t._uU(7," Signup "),t.qZA()()(),t.TgZ(8,"ion-item"),t._UZ(9,"ion-icon",14),t.TgZ(10,"ion-toggle",15),t.NdJ("ngModelChange",function(M){t.CHM(v);const o=t.oxw();return t.KtG(o.dark=M)}),t._uU(11," Dark Mode "),t.qZA()()()}if(2&r){const v=t.oxw();t.xp6(4),t.Q6J("routerLink",v.Route.SIGNUP),t.xp6(6),t.Q6J("ngModel",v.dark)}}const Q=[{path:"",component:(()=>{var r;class w{constructor(d,M,o,e,n,s,l){this.menu=d,this.platform=M,this.router=o,this.storage=e,this.userData=n,this.swUpdate=s,this.toastCtrl=l,this.appPages=[{title:"Marshrut",url:`/${T.A.MAIN}/${T.A.APP}/${T.A.TABS}/${T.A.MARSHRUT}`,icon:"people"}],this.loggedIn=!1,this.dark=!1,this.Route=T.A,this.initializeApp()}ngOnInit(){var d=this;return(0,H.Z)(function*(){yield d.storage.create(),d.checkLoginStatus(),d.listenForLoginEvents(),d.swUpdate.available.subscribe(function(){var M=(0,H.Z)(function*(o){const e=yield d.toastCtrl.create({message:"Update available!",position:"bottom",buttons:[{role:"cancel",text:"Reload"}]});yield e.present(),e.onDidDismiss().then(()=>d.swUpdate.activateUpdate()).then(()=>window.location.reload())});return function(o){return M.apply(this,arguments)}}())})()}initializeApp(){this.platform.ready().then(()=>{this.platform.is("hybrid")&&(R.hide(),z.hide())})}checkLoginStatus(){return this.userData.isLoggedIn().then(d=>this.updateLoggedInStatus(d))}updateLoggedInStatus(d){setTimeout(()=>{this.loggedIn=d},300)}listenForLoginEvents(){window.addEventListener("user:login",()=>{this.updateLoggedInStatus(!0)}),window.addEventListener("user:signup",()=>{this.updateLoggedInStatus(!0)}),window.addEventListener("user:logout",()=>{this.updateLoggedInStatus(!1)})}logout(){this.userData.logout().then(()=>this.router.navigateByUrl("/app/tabs/schedule"))}openTutorial(){this.menu.enable(!1),this.storage.set("ion_did_tutorial",!1),this.router.navigateByUrl("/tutorial")}}return(r=w).\u0275fac=function(d){return new(d||r)(t.Y36(f._q),t.Y36(f.t4),t.Y36(A.F0),t.Y36(G.K),t.Y36(oe.m),t.Y36(re.yO),t.Y36(f.yF))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-main"]],decls:11,vars:5,consts:[["contentId","main-content"],["lines","none"],["autoHide","false",4,"ngFor","ngForOf"],["lines","none",4,"ngIf"],["id","main-content"],["autoHide","false"],["routerLinkActive","selected","routerDirection","root","detail","false",3,"routerLink"],["slot","start",3,"name"],["routerLink","/account","routerLinkActive","active","routerDirection","root","detail","false"],["slot","start","name","person"],["button","","detail","false",3,"click"],["slot","start","name","log-out"],["routerLinkActive","active","routerDirection","root","detail","false",3,"routerLink"],["slot","start","name","person-add"],["slot","start","name","moon-outline"],[3,"ngModel","ngModelChange"]],template:function(d,M){1&d&&(t.TgZ(0,"ion-app")(1,"ion-split-pane",0)(2,"ion-menu",0)(3,"ion-content")(4,"ion-list",1)(5,"ion-list-header"),t._uU(6," Conference "),t.qZA(),t.YNc(7,B,5,3,"ion-menu-toggle",2),t.qZA(),t.YNc(8,ie,13,0,"ion-list",3),t.YNc(9,K,12,2,"ion-list",3),t.qZA()(),t._UZ(10,"ion-router-outlet",4),t.qZA()()),2&d&&(t.ekj("dark-theme",M.dark),t.xp6(7),t.Q6J("ngForOf",M.appPages),t.xp6(1),t.Q6J("ngIf",M.loggedIn),t.xp6(1),t.Q6J("ngIf",!M.loggedIn))},dependencies:[u.sg,u.O5,A.rH,A.Od,f.dr,f.W2,f.gu,f.Ie,f.Q$,f.q_,f.yh,f.z0,f.zc,f.jI,f.ho,f.w,f.jP,f.YI],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-top: 20px;--padding-bottom: 20px;--background: var(--ion-item-background, var(--ion-background-color, #ffffff))}ion-menu[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--transition: none}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{padding-right:18px;padding-left:18px;font-weight:450;letter-spacing:.1em;text-transform:uppercase}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 18px;margin-right:10px;border-radius:0 50px 50px 0;font-weight:500}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgb(var(--ion-color-primary-rgb) .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-650, #5f6368)}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]:not(:last-of-type){border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px;padding-right:16px;padding-left:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#73849a;font-size:24px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}"]}),w})(),children:[{path:"account",loadChildren:()=>c.e(8369).then(c.bind(c,8369)).then(r=>r.AccountModule)},{path:"login",loadChildren:()=>c.e(1044).then(c.bind(c,1044)).then(r=>r.LoginModule)},{path:"signup",loadChildren:()=>c.e(3336).then(c.bind(c,3336)).then(r=>r.SignUpModule)},{path:"app",loadChildren:()=>c.e(5353).then(c.bind(c,5353)).then(r=>r.TabsModule)}]}];let se=(()=>{var r;class w{}return(r=w).\u0275fac=function(d){return new(d||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[A.Bz.forChild(Q),A.Bz]}),w})(),V=(()=>{var r;class w{}return(r=w).\u0275fac=function(d){return new(d||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[u.ez,se,f.Pc]}),w})()},8176:(ne,k,c)=>{c.d(k,{m:()=>H});var u=c(9468),A=c(2145);let H=(()=>{var O;class F{constructor(g){this.storage=g,this.favorites=[],this.HAS_LOGGED_IN="hasLoggedIn",this.HAS_SEEN_TUTORIAL="hasSeenTutorial"}hasFavorite(g){return this.favorites.indexOf(g)>-1}addFavorite(g){this.favorites.push(g)}removeFavorite(g){const U=this.favorites.indexOf(g);U>-1&&this.favorites.splice(U,1)}login(g){return this.storage.set(this.HAS_LOGGED_IN,!0).then(()=>(this.setUsername(g),window.dispatchEvent(new CustomEvent("user:login"))))}signup(g){return this.storage.set(this.HAS_LOGGED_IN,!0).then(()=>(this.setUsername(g),window.dispatchEvent(new CustomEvent("user:signup"))))}logout(){return this.storage.remove(this.HAS_LOGGED_IN).then(()=>this.storage.remove("username")).then(()=>{window.dispatchEvent(new CustomEvent("user:logout"))})}setUsername(g){return this.storage.set("username",g)}getUsername(){return this.storage.get("username").then(g=>g)}isLoggedIn(){return this.storage.get(this.HAS_LOGGED_IN).then(g=>!0===g)}checkHasSeenTutorial(){return this.storage.get(this.HAS_SEEN_TUTORIAL).then(g=>g)}}return(O=F).\u0275fac=function(g){return new(g||O)(u.LFG(A.K))},O.\u0275prov=u.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),F})()}}]);